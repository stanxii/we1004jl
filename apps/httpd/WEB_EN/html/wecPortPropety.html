<html>
<head>
<title>EoC</title>
<base target="_self">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8;no-cache"/>
<link rel="stylesheet" href="css/redmond/jquery-ui-1.10.3.custom.min.css"/>
<link rel="stylesheet" href="css/redmond/demos.css"/>
<link rel="stylesheet" href='stylemain.css' type='text/css'/>
<link rel="stylesheet" href='colors.css' type='text/css'/>
<script src="js/jquery-1.9.1.js"></script>
<script src="js/jquery-ui-1.10.3.custom.min.js"></script>
<script language="javascript" src="util.js"></script>
<script language="javascript">	
	
	function btnConfig(portid)
	{
		var loc = 'portPropety.cmd?';
		loc += 'portid=' + portid;
		var code = 'location="' + loc + '"';
		//alert(code);
		eval(code);
	}
	
	function btnRefresh()
	{
		var code = "wecPortPropety.cgi";
		//alert(code);
		location.href = code;
	}

	$(function()
	{
		var ethspeed = new Array();
		ethspeed[0] = '<%ejGet(eth1speed)%>';
		ethspeed[1] = '<%ejGet(eth2speed)%>';
		ethspeed[2] = '<%ejGet(eth3speed)%>';
		//ethspeed[3] = '<%ejGet(eth4speed)%>';

		var ethduplex = new Array();
		ethduplex[0] = '<%ejGet(eth1duplex)%>';
		ethduplex[1] = '<%ejGet(eth2duplex)%>';
		ethduplex[2] = '<%ejGet(eth3duplex)%>';
		//ethduplex[3] = '<%ejGet(eth4duplex)%>';

		var ethpri = new Array();
		ethpri[0] = '<%ejGet(eth1pri)%>';
		ethpri[1] = '<%ejGet(eth2pri)%>';
		ethpri[2] = '<%ejGet(eth3pri)%>';
		//ethpri[3] = '<%ejGet(eth4pri)%>';

		var ethfc = new Array();
		ethfc[0] = '<%ejGet(eth1fc)%>';
		ethfc[1] = '<%ejGet(eth2fc)%>';
		ethfc[2] = '<%ejGet(eth3fc)%>';
		//ethfc[3] = '<%ejGet(eth4fc)%>';

		var ethsts = new Array();
		ethsts[0] = '<%ejGet(eth1sts)%>';
		ethsts[1] = '<%ejGet(eth2sts)%>';
		ethsts[2] = '<%ejGet(eth3sts)%>';
		//ethsts[3] = '<%ejGet(eth4sts)%>';

		var ethlinksts = new Array();
		ethlinksts[0] = '<%ejGet(eth1linksts)%>';
		ethlinksts[1] = '<%ejGet(eth2linksts)%>';
		ethlinksts[2] = '<%ejGet(eth3linksts)%>';
		//ethlinksts[3] = '<%ejGet(eth4linksts)%>';
		
		var i = 0;
		var stra = new Array();
		var strb = new Array();
		var strc = new Array();
		var strd = new Array();
		var strPortName = new Array();
		strPortName[0] = 'ETH1/UPLINK';
		strPortName[1] = 'ETH2/MGMT';
		strPortName[2] = 'Cable1';
		var strBtnEvent = new Array();
		strBtnEvent[0] = 'btnConfig(1)';
		strBtnEvent[1] = 'btnConfig(2)';
		strBtnEvent[2] = 'btnConfig(3)';

		var strClassName;
		
		for( i=0; i<3; i++)
		{
			if( parseInt(ethlinksts[i]) == 1 )
	          	{
				stra[i] = "<font color=green>Link Up</font>";
	          	}
	          	else
	          	{
				stra[i] = "<font color=red>Link Down</font>";
	          	}

			if( parseInt(ethspeed[i]) == 0 )
	          	{
				if( parseInt(ethduplex[i]) == 0 )
				{
					strb[i] = "Auto/Auto";
				}
				else if( parseInt(ethduplex[i]) == 1 )
				{
					strb[i] = "Auto/HALF";
				}
				else
				{
					strb[i] = "Auto/FULL";
				}
	          	}
	          	else if( parseInt(ethspeed[i]) == 1 )
	          	{
	          		if( parseInt(ethduplex[i]) == 0 )
	          		{
	          			strb[i] = "10M/Auto";
	          		}
	          		else if( parseInt(ethduplex[i]) == 1 )
	          		{
	          			strb[i] = "10M/HALF";
	          		}
	          		else
	          		{
	          			strb[i] = "10M/FULL";
	          		}
	          	}
	          	else if( parseInt(ethspeed[i]) == 2 )
	          	{
	          		if( parseInt(ethduplex[i]) == 0 )
	          		{
	          			strb[i] = "100M/Auto";
	          		}
	          		else if( parseInt(ethduplex[i]) == 1 )
	          		{
	          			strb[i] = "100M/HALF";
	          		}
	          		else
	          		{
	          			strb[i] = "100M/FULL";
	          		}
	          	}
			else
			{
				if( parseInt(ethduplex[i]) == 0 )
	          		{
	          			strb[i] = "1000M/Auto";
	          		}
	          		else if( parseInt(ethduplex[i]) == 1 )
	          		{
	          			strb[i] = "1000M/HALF";
	          		}
	          		else
	          		{
	          			strb[i] = "1000M/FULL";
	          		}
			}

			if( parseInt(ethfc[i]) == 0 )
			{
				strc[i] = "Disable";
			}
			else
			{
				strc[i] = "Enable";
			}

			if( parseInt(ethsts[i]) == 0 )
			{
				strd[i] = "Disable";
			}
			else
			{
				strd[i] = "Enable";
			}
		}

		var stringappend =	'<table border=0 cellpadding=0 cellspacing=1>' + 
						'	<tr>' + 
						'		<td class=thead width=120>Port</td>' + 
						'		<td class=thead width=90>Link status</td>' + 
						'		<td class=thead width=120>Speed/Duplex</td>' + 
						'		<td class=thead width=50>pri</td>' + 
						'		<td class=thead width=100>Flow Control</td>' + 
						'		<td class=thead width=100>Port status</td>' + 
						'	</tr>' + 	
						'	<tr>' + 
						'		<td colspan=6>&nbsp;</td>' + 
						'	</tr>';
		for( i=0; i<3; i++)
		{
			if( i%2 )
			{
				strClassName = 'colb';
			}
			else
			{
				strClassName = 'cola';
			}
			stringappend +=	'	<tr>' + 
							'		<td class=' + strClassName + '>' + 
							'			<button class="configBtn" onClick=' + strBtnEvent[i] + ' style="width:120;">' + strPortName[i] + '</button>' + 
							'		</td>' + 
							'		<td class=' + strClassName + '>' + stra[i] + '</td>' + 
							'		<td class=' + strClassName + '>' + strb[i] + '</td>' + 
							'		<td class=' + strClassName + '>' + ethpri[i] + '</td>' + 
							'		<td class=' + strClassName + '>' + strc[i] + '</td>' + 
							'		<td class=' + strClassName + '>' + strd[i] + '</td>' + 
							'	</tr>';
		}

		stringappend +=	'	<tr>' + 
						'		<td colspan=6>&nbsp;</td>' + 
						'	</tr>' + 	
						'	<tr>' + 
						'		<td class=listend colspan=6></td>' + 
						'	</tr>' + 	
						'</table>' +
						'<br>';
		
		$(stringappend).appendTo($("#div1"));
		
		$( ".configBtn" ).button({
			icons: {
				primary: "ui-icon-home"
			},
		});

		$('#refreshBtn').button({
			icons: {
				primary: 'ui-icon-refresh'
			},
		});
		$( "#refreshBtn" ).click(function(event){
			event.preventDefault();
			btnRefresh();
		});
	});
</SCRIPT>

</head>
<body>
<blockquote>
<br>
<table border="0" cellpadding="5" cellspacing="0">
	<tr><td class='maintitle'><b>Port Properties</b></td></tr>                       
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">            	
	<tr><td class='mainline' width="100%"></td></tr>                           
</table>
<br>	
<br>
Through this page, you can view and configure the properties of native Ethernet and coaxial ports, including: speed, duplex status, port flow control and port state property parameters....</br>      	
<br>
<ul><div id="div1"/></ul>
<p>
	<button id='refreshBtn'>Refresh</button>
</p> 
</blockquote>
</body>
</html>
